<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FS STUDIO - Administration</title>
    <link rel="stylesheet" href="admin.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- √âcran de connexion -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <div class="login-header">
                <h1>üîê Administration</h1>
                <p>Acc√®s r√©serv√© aux administrateurs</p>
            </div>
            <div class="login-form">
                <input type="password" id="adminCode" placeholder="Code d'acc√®s" autocomplete="off">
                <button id="loginBtn">Se connecter</button>
                <p class="error-message" id="errorMessage" style="display: none;"></p>
            </div>
        </div>
    </div>

    <!-- Interface Admin -->
    <div class="admin-container" id="adminContainer" style="display: none;">
        <header class="admin-header">
            <div class="admin-title">
                <h1>‚öôÔ∏è Administration FS STUDIO</h1>
                <span class="admin-badge" id="userInfo">ADMIN</span>
            </div>
            <button class="logout-btn" id="logoutBtn">D√©connexion</button>
        </header>

        <div class="admin-content">
            <!-- Navigation par onglets -->
            <div class="tab-navigation">
                <button class="tab-btn active" data-tab="site-info">üìä Informations du Site</button>
                <button class="tab-btn" data-tab="broadcasting">üì° Diffusion</button>
                <button class="tab-btn" data-tab="chat">üí¨ Chat</button>
                <button class="tab-btn" data-tab="finance">üí∞ Finance</button>
            </div>

            <!-- Onglet Informations du Site -->
            <div class="tab-content active" id="site-info">
                <!-- Section Statistiques √©tendues -->
                <div class="admin-section">
                    <div class="section-header">
                        <h2>üìä Statistiques du Site</h2>
                        <div class="real-time-indicator">
                            <span class="pulse-dot"></span>
                            <span>Temps r√©el</span>
                        </div>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">üí¨</div>
                            <div class="stat-info">
                                <div class="stat-number" id="totalMessages">0</div>
                                <div class="stat-label">Messages totaux</div>
                                <div class="stat-change" id="messagesChange">+0 aujourd'hui</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üë•</div>
                            <div class="stat-info">
                                <div class="stat-number" id="totalUsers">0</div>
                                <div class="stat-label">Utilisateurs uniques</div>
                                <div class="stat-change" id="usersChange">+0 aujourd'hui</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üéôÔ∏è</div>
                            <div class="stat-info">
                                <div class="stat-number" id="listenersCount">0</div>
                                <div class="stat-label">Auditeurs actifs</div>
                                <div class="stat-percentage" id="listenersPercentage">0%</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üü¢</div>
                            <div class="stat-info">
                                <div class="stat-number" id="onlineUsers">0</div>
                                <div class="stat-label">Utilisateurs en ligne</div>
                                <div class="stat-percentage" id="onlinePercentage">0%</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">‚è±Ô∏è</div>
                            <div class="stat-info">
                                <div class="stat-number" id="uptime">00:00:00</div>
                                <div class="stat-label">Temps de fonctionnement</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìà</div>
                            <div class="stat-info">
                                <div class="stat-number" id="engagementRate">0%</div>
                                <div class="stat-label">Taux d'engagement</div>
                                <div class="stat-change" id="engagementChange">+0%</div>
                            </div>
                        </div>
                    </div>

                    <!-- Graphiques et m√©triques avanc√©es -->
                    <div class="advanced-metrics">
                        <div class="metric-row">
                            <div class="metric-item">
                                <h4>Activit√© par heure</h4>
                                <div class="activity-chart" id="activityChart">
                                    <div class="chart-placeholder">Chargement des donn√©es...</div>
                                </div>
                            </div>
                            <div class="metric-item">
                                <h4>Top messages</h4>
                                <div class="top-messages" id="topMessages">
                                    <div class="message-item">
                                        <span class="message-text">Aucun message r√©cent</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section √âtat du Serveur -->
                <div class="admin-section">
                    <div class="section-header">
                        <h2>üñ•Ô∏è √âtat du Serveur</h2>
                    </div>
                    <div class="server-status">
                        <div class="status-item">
                            <span class="status-label">WebSocket:</span>
                            <span class="status-value" id="websocketStatus">üîÑ Connexion...</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Firebase:</span>
                            <span class="status-value" id="firebaseStatus">üîÑ Connexion...</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Streaming:</span>
                            <span class="status-value" id="streamingStatus">‚è∏Ô∏è Arr√™t√©</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Derni√®re activit√©:</span>
                            <span class="status-value" id="lastActivity">-</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Onglet Diffusion -->
            <div class="tab-content" id="broadcasting">
                <div class="admin-section">
                    <div class="section-header">
                        <h2>üì° Contr√¥les de Diffusion</h2>
                        <div class="admin-actions">
                            <button class="action-btn primary" id="startBroadcastBtn">‚ñ∂Ô∏è D√©marrer</button>
                            <button class="action-btn danger" id="stopBroadcastBtn">‚èπÔ∏è Arr√™ter</button>
                        </div>
                    </div>

                    <div class="broadcast-status">
                        <div class="status-indicator" id="broadcastStatus">
                            <span class="status-light" id="statusLight"></span>
                            <span class="status-text" id="statusText">Statut: Arr√™t√©</span>
                        </div>
                        <div class="broadcast-info">
                            <div class="info-item">
                                <span class="info-label">Dur√©e:</span>
                                <span class="info-value" id="broadcastDuration">00:00:00</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Auditeurs:</span>
                                <span class="info-value" id="currentListeners">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section M√©dias -->
                <div class="admin-section">
                    <div class="section-header">
                        <h2>üéµ Gestion des M√©dias</h2>
                    </div>
                    <div class="media-controls">
                        <div class="control-group">
                            <label>Volume Micro:</label>
                            <input type="range" id="micVolume" min="0" max="100" value="75" class="volume-slider">
                            <span id="micVolumeValue">75%</span>
                        </div>
                        <div class="control-group">
                            <label>Volume Sortie:</label>
                            <input type="range" id="outputVolume" min="0" max="100" value="80" class="volume-slider">
                            <span id="outputVolumeValue">80%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Onglet Chat -->
            <div class="tab-content" id="chat">
                <div class="admin-section">
                    <div class="section-header">
                        <h2>üí¨ Mod√©ration du Chat</h2>
                        <div class="admin-actions">
                            <button class="action-btn warning" id="clearChatBtn">üóëÔ∏è Vider le chat</button>
                            <button class="action-btn info" id="exportChatBtn">üìÑ Exporter</button>
                        </div>
                    </div>

                    <div class="chat-admin-container">
                        <div class="chat-messages-admin" id="chatMessagesAdmin">
                            <div class="chat-message system">
                                <span class="message-time">00:00</span>
                                <span class="message-content">Chargement des messages...</span>
                            </div>
                        </div>

                        <div class="chat-admin-controls">
                            <div class="send-message-form">
                                <div class="form-group">
                                    <label for="adminMessage">Message admin:</label>
                                    <textarea id="adminMessage" placeholder="Tapez votre message d'administration..." rows="3"></textarea>
                                </div>
                                <button class="action-btn primary" id="sendAdminMessageBtn">üì§ Envoyer</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Onglet Finance -->
            <div class="tab-content" id="finance">
                <div class="admin-section">
                    <div class="section-header">
                        <h2>üí∞ Gestion Financi√®re</h2>
                    </div>

                    <div class="finance-overview">
                        <div class="finance-card">
                            <div class="finance-icon">üíµ</div>
                            <div class="finance-info">
                                <div class="finance-amount" id="totalRevenue">$0.00</div>
                                <div class="finance-label">Revenus totaux</div>
                            </div>
                        </div>
                        <div class="finance-card">
                            <div class="finance-icon">üìä</div>
                            <div class="finance-info">
                                <div class="finance-amount" id="monthlyRevenue">$0.00</div>
                                <div class="finance-label">Ce mois-ci</div>
                            </div>
                        </div>
                        <div class="finance-card">
                            <div class="finance-icon">üéØ</div>
                            <div class="finance-info">
                                <div class="finance-amount" id="conversionRate">0%</div>
                                <div class="finance-label">Taux de conversion</div>
                            </div>
                        </div>
                    </div>

                    <div class="transactions-list">
                        <h3>Transactions r√©centes</h3>
                        <div class="transactions-container" id="transactionsList">
                            <div class="transaction-item">
                                <span class="transaction-desc">Aucune transaction r√©cente</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>

